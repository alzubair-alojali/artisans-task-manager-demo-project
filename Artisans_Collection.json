{
    "openapi": "3.1.0",
    "info": {
        "title": "Artisans Task Manager API",
        "description": "A comprehensive task management API with projects, tasks, comments, and user management. Features role-based access control (Admin, Manager, User) and Google OAuth authentication.",
        "version": "1.0.0",
        "contact": {
            "name": "API Support"
        }
    },
    "servers": [
        {
            "url": "https://artisans-task-manager-demo-project-production.up.railway.app/api",
            "description": "Production Server (Railway)"
        },
        {
            "url": "http://127.0.0.1:8000/api",
            "description": "Local development server"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "tags": [
        {
            "name": "Auth",
            "description": "Authentication endpoints"
        },
        {
            "name": "Dashboard",
            "description": "Dashboard statistics"
        },
        {
            "name": "Project",
            "description": "Project management"
        },
        {
            "name": "Task",
            "description": "Task management"
        },
        {
            "name": "TaskExport",
            "description": "Task export functionality"
        },
        {
            "name": "ProjectComment",
            "description": "Project comments"
        },
        {
            "name": "TaskComment",
            "description": "Task comments"
        },
        {
            "name": "Comment",
            "description": "Generic comment operations"
        },
        {
            "name": "User",
            "description": "User management (Admin only)"
        }
    ],
    "paths": {
        "/register": {
            "post": {
                "operationId": "auth.register",
                "description": "Creates a new user record and returns an access token.",
                "summary": "Register a new user",
                "tags": [
                    "Auth"
                ],
                "security": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            },
                            "example": {
                                "name": "John Doe",
                                "email": "john.doe@example.com",
                                "password": "securePassword123",
                                "password_confirmation": "securePassword123",
                                "role": "user"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|abc123xyz..."
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully"
                                        }
                                    },
                                    "required": [
                                        "data",
                                        "token",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "429": {
                        "$ref": "#/components/responses/TooManyRequestsException"
                    }
                }
            }
        },
        "/login": {
            "post": {
                "operationId": "auth.login",
                "description": "Authenticates a user and returns an access token.",
                "summary": "Log in a user",
                "tags": [
                    "Auth"
                ],
                "security": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            },
                            "example": {
                                "email": "john.doe@example.com",
                                "password": "securePassword123"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|abc123xyz..."
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Login successful"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "data",
                                        "token",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Invalid login credentials"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "429": {
                        "$ref": "#/components/responses/TooManyRequestsException"
                    }
                }
            }
        },
        "/auth/google/redirect": {
            "get": {
                "operationId": "auth.redirectToGoogle",
                "description": "Returns the Google OAuth redirect URL for authentication.",
                "summary": "Get Google OAuth redirect URL",
                "tags": [
                    "Auth"
                ],
                "security": [],
                "responses": {
                    "200": {
                        "description": "Google OAuth URL",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "format": "uri",
                                            "example": "https://accounts.google.com/o/oauth2/auth?..."
                                        }
                                    },
                                    "required": [
                                        "url"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/google/callback": {
            "get": {
                "operationId": "auth.handleGoogleCallback",
                "description": "Exchanges the Google authorization code for a user and access token.",
                "summary": "Handle Google OAuth callback",
                "tags": [
                    "Auth"
                ],
                "security": [],
                "responses": {
                    "200": {
                        "description": "Google login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "token": {
                                            "type": "string",
                                            "example": "1|google_abc123..."
                                        },
                                        "user": {
                                            "$ref": "#/components/schemas/UserResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Login successful"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "token",
                                        "user",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Google login failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Google login failed"
                                            ]
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "error"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/logout": {
            "post": {
                "operationId": "auth.logout",
                "description": "Revokes the user's current access token.",
                "summary": "Log out the current user",
                "tags": [
                    "Auth"
                ],
                "responses": {
                    "204": {
                        "description": "Successfully logged out"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/dashboard/stats": {
            "get": {
                "operationId": "dashboard.stats",
                "description": "Returns dashboard statistics including task counts by status and priority, completion rate, and project counts. Admins see all data; regular users see only their assigned tasks and member projects.",
                "summary": "Get dashboard statistics",
                "tags": [
                    "Dashboard"
                ],
                "responses": {
                    "200": {
                        "description": "Dashboard statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DashboardStats"
                                },
                                "example": {
                                    "total_tasks": 45,
                                    "total_projects": 8,
                                    "tasks_by_status": {
                                        "todo": 10,
                                        "in_progress": 15,
                                        "review": 8,
                                        "done": 12
                                    },
                                    "tasks_by_priority": {
                                        "low": 12,
                                        "medium": 20,
                                        "high": 13
                                    },
                                    "completion_rate": 26.67
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/projects": {
            "get": {
                "operationId": "projects.index",
                "description": "Retrieve a paginated list of projects with optional filtering, sorting, and includes. Regular users only see projects they are members of.",
                "summary": "List all projects",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PageParam"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageParam"
                    },
                    {
                        "name": "filter[status]",
                        "in": "query",
                        "description": "Filter by project status",
                        "schema": {
                            "$ref": "#/components/schemas/ProjectStatus"
                        }
                    },
                    {
                        "name": "filter[title]",
                        "in": "query",
                        "description": "Filter by project title (partial match)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort field. Prefix with '-' for descending order.",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "deadline",
                                "-deadline",
                                "created_at",
                                "-created_at"
                            ]
                        }
                    },
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Include related resources (comma-separated for multiple)",
                        "schema": {
                            "type": "string",
                            "example": "manager,members,tasks"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of projects",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedProjectResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    }
                }
            },
            "post": {
                "operationId": "projects.store",
                "description": "Create a new project. Only Admins and Managers can create projects. If manager_id is not provided, the authenticated user becomes the manager.",
                "summary": "Create a new project",
                "tags": [
                    "Project"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreProjectRequest"
                            },
                            "example": {
                                "title": "Website Redesign",
                                "description": "Complete redesign of the company website",
                                "deadline": "2025-06-30",
                                "status": "open",
                                "manager_id": 1
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Project created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/ProjectResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/projects/{project}": {
            "get": {
                "operationId": "projects.show",
                "description": "Retrieve details of a specific project including manager, members, and tasks.",
                "summary": "Show a project",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    },
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Include related resources (comma-separated for multiple)",
                        "schema": {
                            "type": "string",
                            "example": "manager,members,tasks"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Project details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/ProjectResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            },
            "put": {
                "operationId": "projects.update",
                "description": "Update project details. Only Admins or the project's manager can update.",
                "summary": "Update a project",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateProjectRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Project updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/ProjectResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "delete": {
                "operationId": "projects.destroy",
                "description": "Delete a project. Only Admins or the project's manager can delete.",
                "summary": "Delete a project",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Project deleted successfully"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/projects/{project}/invite": {
            "post": {
                "operationId": "project.invite",
                "description": "Add a user to the project members. Only Admins or the project's manager can invite.",
                "summary": "Invite a user to the project",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InviteMemberRequest"
                            },
                            "example": {
                                "user_id": 5
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User invited successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User invited to project successfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/projects/{project}/members/{user}": {
            "delete": {
                "operationId": "project.removeMember",
                "description": "Remove a user from the project members. Only Admins or the project's manager can remove members.",
                "summary": "Remove a user from the project",
                "tags": [
                    "Project"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    },
                    {
                        "$ref": "#/components/parameters/UserIdParam"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Member removed successfully"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/projects/{project}/comments": {
            "get": {
                "operationId": "projectComment.index",
                "description": "List paginated comments for a project. Available to Admins, project managers, or project members.",
                "summary": "List comments for a project",
                "tags": [
                    "ProjectComment"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    },
                    {
                        "$ref": "#/components/parameters/PageParam"
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort by created_at",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "created_at",
                                "-created_at"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated comments",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedCommentResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            },
            "post": {
                "operationId": "projectComment.store",
                "description": "Add a comment to a project. Available to Admins, project managers, or project members.",
                "summary": "Add a comment to a project",
                "tags": [
                    "ProjectComment"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/ProjectIdParam"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreCommentRequest"
                            },
                            "example": {
                                "body": "Great progress on this project!"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Comment created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/CommentResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/tasks": {
            "get": {
                "operationId": "tasks.index",
                "description": "Retrieve a paginated list of tasks with filtering, sorting, and includes. Regular users only see tasks for projects they belong to.",
                "summary": "List all tasks",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PageParam"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageParam"
                    },
                    {
                        "name": "filter[title]",
                        "in": "query",
                        "description": "Filter by task title (partial match)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter[status]",
                        "in": "query",
                        "description": "Filter by task status",
                        "schema": {
                            "$ref": "#/components/schemas/TaskStatus"
                        }
                    },
                    {
                        "name": "filter[priority]",
                        "in": "query",
                        "description": "Filter by task priority",
                        "schema": {
                            "$ref": "#/components/schemas/TaskPriority"
                        }
                    },
                    {
                        "name": "filter[due_date]",
                        "in": "query",
                        "description": "Filter by due date (exact match, format: YYYY-MM-DD)",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "filter[project_id]",
                        "in": "query",
                        "description": "Filter by project ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "filter[assigned_to_user_id]",
                        "in": "query",
                        "description": "Filter by assigned user ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "filter[trashed]",
                        "in": "query",
                        "description": "Include soft-deleted tasks",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "with",
                                "only"
                            ]
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort field. Prefix with '-' for descending.",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "due_date",
                                "-due_date",
                                "created_at",
                                "-created_at",
                                "priority",
                                "-priority",
                                "title",
                                "-title"
                            ]
                        }
                    },
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Include related resources (comma-separated)",
                        "schema": {
                            "type": "string",
                            "example": "project,assignee,comments"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of tasks",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedTaskResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    }
                }
            },
            "post": {
                "operationId": "tasks.store",
                "description": "Create a new task. Admins and Managers can create in any project. Regular users can only create tasks in projects they are members of. The assigned user must be a member of the target project.",
                "summary": "Create a new task",
                "tags": [
                    "Task"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreTaskRequest"
                            },
                            "example": {
                                "title": "Implement login feature",
                                "description": "Create login form with email and password validation",
                                "due_date": "2025-01-15",
                                "project_id": 1,
                                "assigned_to": 3,
                                "status": "todo",
                                "priority": "high"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Task created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TaskResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/tasks/{task}": {
            "get": {
                "operationId": "tasks.show",
                "description": "Retrieve details of a specific task.",
                "summary": "Show a task",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/TaskIdParam"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TaskResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            },
            "put": {
                "operationId": "tasks.update",
                "description": "Update task details. Admins can update all tasks. Managers can update tasks in projects they manage. Regular users can update tasks assigned to them or unassigned tasks (in projects they belong to).",
                "summary": "Update a task",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/TaskIdParam"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateTaskRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Task updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TaskResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "delete": {
                "operationId": "tasks.destroy",
                "description": "Soft delete a task. Only Admins or Managers (for their projects) can delete tasks. Regular users cannot delete tasks.",
                "summary": "Delete a task (soft delete)",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/TaskIdParam"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Task deleted successfully"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/tasks/{task}/restore": {
            "post": {
                "operationId": "task.restore",
                "description": "Restore a soft-deleted task. Only Admins or Managers (for their projects) can restore tasks.",
                "summary": "Restore a soft-deleted task",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "name": "task",
                        "in": "path",
                        "required": true,
                        "description": "The task ID (including soft-deleted)",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task restored",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TaskResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/tasks/{task}/force-delete": {
            "delete": {
                "operationId": "task.forceDelete",
                "description": "Permanently delete a task. Only Admins or Managers (for their projects) can force delete tasks.",
                "summary": "Permanently delete a task",
                "tags": [
                    "Task"
                ],
                "parameters": [
                    {
                        "name": "task",
                        "in": "path",
                        "required": true,
                        "description": "The task ID (including soft-deleted)",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Task permanently deleted"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/tasks/export": {
            "get": {
                "operationId": "taskExport",
                "description": "Export tasks to Excel file with the same filtering and sorting options as the task list. Regular users only see tasks for projects they belong to.",
                "summary": "Export tasks to Excel",
                "tags": [
                    "TaskExport"
                ],
                "parameters": [
                    {
                        "name": "filter[title]",
                        "in": "query",
                        "description": "Filter by task title (partial match)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter[status]",
                        "in": "query",
                        "description": "Filter by task status",
                        "schema": {
                            "$ref": "#/components/schemas/TaskStatus"
                        }
                    },
                    {
                        "name": "filter[priority]",
                        "in": "query",
                        "description": "Filter by task priority",
                        "schema": {
                            "$ref": "#/components/schemas/TaskPriority"
                        }
                    },
                    {
                        "name": "filter[due_date]",
                        "in": "query",
                        "description": "Filter by due date",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "filter[project_id]",
                        "in": "query",
                        "description": "Filter by project ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "filter[assigned_to_user_id]",
                        "in": "query",
                        "description": "Filter by assigned user ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "filter[trashed]",
                        "in": "query",
                        "description": "Include soft-deleted tasks",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "with",
                                "only"
                            ]
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort field",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "due_date",
                                "-due_date",
                                "created_at",
                                "-created_at",
                                "priority",
                                "-priority",
                                "title",
                                "-title"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Excel file download",
                        "content": {
                            "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    }
                }
            }
        },
        "/tasks/{task}/comments": {
            "get": {
                "operationId": "taskComment.index",
                "description": "List paginated comments for a task.",
                "summary": "List comments for a task",
                "tags": [
                    "TaskComment"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/TaskIdParam"
                    },
                    {
                        "$ref": "#/components/parameters/PageParam"
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort by created_at",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "created_at",
                                "-created_at"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated comments",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedCommentResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            },
            "post": {
                "operationId": "taskComment.store",
                "description": "Add a comment to a task.",
                "summary": "Add a comment to a task",
                "tags": [
                    "TaskComment"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/TaskIdParam"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreCommentRequest"
                            },
                            "example": {
                                "body": "Need more details on the requirements."
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Comment created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/CommentResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/comments/{comment}": {
            "delete": {
                "operationId": "comment.destroy",
                "description": "Delete a comment. The comment author, project manager, or admin can delete comments.",
                "summary": "Delete a comment",
                "tags": [
                    "Comment"
                ],
                "parameters": [
                    {
                        "name": "comment",
                        "in": "path",
                        "required": true,
                        "description": "The comment ID",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Comment deleted"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        },
        "/users": {
            "get": {
                "operationId": "user.index",
                "description": "Retrieve a paginated list of users with optional filtering and sorting. Available to all authenticated users.",
                "summary": "List all users",
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PageParam"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageParam"
                    },
                    {
                        "name": "filter[name]",
                        "in": "query",
                        "description": "Filter by user name",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter[email]",
                        "in": "query",
                        "description": "Filter by email",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter[role]",
                        "in": "query",
                        "description": "Filter by user role",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole"
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "description": "Sort field",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "name",
                                "-name",
                                "created_at",
                                "-created_at"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of users",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedUserResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            },
            "post": {
                "operationId": "user.store",
                "description": "Create a new user. **Admin only.**",
                "summary": "Create a new user",
                "tags": [
                    "User"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/StoreUserRequest"
                            },
                            "example": {
                                "name": "Jane Smith",
                                "email": "jane.smith@example.com",
                                "password": "securePassword123",
                                "password_confirmation": "securePassword123",
                                "role": "manager"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/users/{user}": {
            "get": {
                "operationId": "user.show",
                "description": "Retrieve details of a specific user. **Admin only.**",
                "summary": "Show a user",
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/UserIdParam"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            },
            "put": {
                "operationId": "user.update",
                "description": "Update user details. **Admin only.**",
                "summary": "Update a user",
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/UserIdParam"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "delete": {
                "operationId": "user.destroy",
                "description": "Delete a user. **Admin only.**",
                "summary": "Delete a user",
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/UserIdParam"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "User deleted"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "Sanctum token"
            }
        },
        "parameters": {
            "PageParam": {
                "name": "page",
                "in": "query",
                "description": "Page number for pagination",
                "schema": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                }
            },
            "PerPageParam": {
                "name": "per_page",
                "in": "query",
                "description": "Number of items per page (system default: 15)",
                "schema": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "default": 15
                }
            },
            "ProjectIdParam": {
                "name": "project",
                "in": "path",
                "required": true,
                "description": "The project ID",
                "schema": {
                    "type": "integer"
                }
            },
            "TaskIdParam": {
                "name": "task",
                "in": "path",
                "required": true,
                "description": "The task ID",
                "schema": {
                    "type": "integer"
                }
            },
            "UserIdParam": {
                "name": "user",
                "in": "path",
                "required": true,
                "description": "The user ID",
                "schema": {
                    "type": "integer"
                }
            }
        },
        "schemas": {
            "UserRole": {
                "type": "string",
                "enum": [
                    "admin",
                    "manager",
                    "user"
                ],
                "description": "User roles in the system"
            },
            "ProjectStatus": {
                "type": "string",
                "enum": [
                    "open",
                    "completed",
                    "archived"
                ],
                "description": "Project status values"
            },
            "TaskStatus": {
                "type": "string",
                "enum": [
                    "todo",
                    "in_progress",
                    "review",
                    "done"
                ],
                "description": "Task status values"
            },
            "TaskPriority": {
                "type": "string",
                "enum": [
                    "low",
                    "medium",
                    "high"
                ],
                "description": "Task priority levels"
            },
            "UserResource": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "John Doe"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "john@example.com"
                    },
                    "role": {
                        "$ref": "#/components/schemas/UserRole"
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2025-01-01 10:30:00"
                    }
                },
                "required": [
                    "id",
                    "name",
                    "email",
                    "role",
                    "created_at"
                ]
            },
            "ProjectResource": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "title": {
                        "type": "string",
                        "example": "Website Redesign"
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "example": "Complete website overhaul"
                    },
                    "deadline": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-06-30"
                    },
                    "status": {
                        "$ref": "#/components/schemas/ProjectStatus"
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2025-01-01 10:30:00"
                    },
                    "manager": {
                        "$ref": "#/components/schemas/UserResource"
                    },
                    "members_count": {
                        "type": "integer",
                        "example": 5
                    },
                    "tasks_count": {
                        "type": "integer",
                        "example": 12
                    }
                },
                "required": [
                    "id",
                    "title",
                    "description",
                    "deadline",
                    "status",
                    "created_at"
                ]
            },
            "TaskResource": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "title": {
                        "type": "string",
                        "example": "Implement login feature"
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "example": "Create login form with validation"
                    },
                    "due_date": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "format": "date",
                        "example": "2025-01-15"
                    },
                    "status": {
                        "$ref": "#/components/schemas/TaskStatus"
                    },
                    "priority": {
                        "$ref": "#/components/schemas/TaskPriority"
                    },
                    "project_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "project": {
                        "$ref": "#/components/schemas/ProjectResource"
                    },
                    "assigned_to": {
                        "$ref": "#/components/schemas/UserResource"
                    },
                    "created_by": {
                        "$ref": "#/components/schemas/UserResource"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-01T10:30:00+00:00"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-02T14:00:00+00:00"
                    },
                    "deleted_at": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "format": "date-time"
                    }
                },
                "required": [
                    "id",
                    "title",
                    "description",
                    "due_date",
                    "status",
                    "priority",
                    "project_id",
                    "created_at",
                    "updated_at",
                    "deleted_at"
                ]
            },
            "CommentResource": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "body": {
                        "type": "string",
                        "example": "Great progress!"
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserResource"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "required": [
                    "id",
                    "body",
                    "created_at",
                    "updated_at"
                ]
            },
            "DashboardStats": {
                "type": "object",
                "properties": {
                    "total_tasks": {
                        "type": "integer"
                    },
                    "total_projects": {
                        "type": "integer"
                    },
                    "tasks_by_status": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "integer"
                        }
                    },
                    "tasks_by_priority": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "integer"
                        }
                    },
                    "completion_rate": {
                        "type": "number",
                        "format": "float"
                    }
                },
                "required": [
                    "total_tasks",
                    "total_projects",
                    "tasks_by_status",
                    "tasks_by_priority",
                    "completion_rate"
                ]
            },
            "RegisterRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 255
                    },
                    "password": {
                        "type": "string",
                        "minLength": 8
                    },
                    "password_confirmation": {
                        "type": "string",
                        "minLength": 8
                    },
                    "role": {
                        "$ref": "#/components/schemas/UserRole"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "password",
                    "password_confirmation",
                    "role"
                ]
            },
            "LoginRequest": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "required": [
                    "email",
                    "password"
                ]
            },
            "StoreProjectRequest": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "deadline": {
                        "type": "string",
                        "format": "date",
                        "description": "Must be after today"
                    },
                    "status": {
                        "$ref": "#/components/schemas/ProjectStatus"
                    },
                    "manager_id": {
                        "type": [
                            "integer",
                            "null"
                        ],
                        "description": "Must exist in users table. Defaults to authenticated user if not provided."
                    }
                },
                "required": [
                    "title",
                    "deadline",
                    "status"
                ]
            },
            "UpdateProjectRequest": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "deadline": {
                        "type": "string",
                        "format": "date",
                        "description": "Must be after today"
                    },
                    "status": {
                        "$ref": "#/components/schemas/ProjectStatus"
                    },
                    "manager_id": {
                        "type": [
                            "integer",
                            "null"
                        ]
                    }
                }
            },
            "InviteMemberRequest": {
                "type": "object",
                "properties": {
                    "user_id": {
                        "type": "integer",
                        "description": "Must exist in users table"
                    }
                },
                "required": [
                    "user_id"
                ]
            },
            "StoreTaskRequest": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Must be today or later"
                    },
                    "project_id": {
                        "type": "integer",
                        "description": "Must exist in projects table"
                    },
                    "assigned_to": {
                        "type": [
                            "integer",
                            "null"
                        ],
                        "description": "User ID. Must be a member of the target project."
                    },
                    "status": {
                        "$ref": "#/components/schemas/TaskStatus"
                    },
                    "priority": {
                        "$ref": "#/components/schemas/TaskPriority"
                    }
                },
                "required": [
                    "title",
                    "due_date",
                    "project_id",
                    "status",
                    "priority"
                ]
            },
            "UpdateTaskRequest": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date"
                    },
                    "project_id": {
                        "type": "integer"
                    },
                    "assigned_to": {
                        "type": [
                            "integer",
                            "null"
                        ],
                        "description": "User ID. Must be a member of the target project."
                    },
                    "status": {
                        "$ref": "#/components/schemas/TaskStatus"
                    },
                    "priority": {
                        "$ref": "#/components/schemas/TaskPriority"
                    }
                }
            },
            "StoreCommentRequest": {
                "type": "object",
                "properties": {
                    "body": {
                        "type": "string",
                        "maxLength": 1000
                    }
                },
                "required": [
                    "body"
                ]
            },
            "StoreUserRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 255
                    },
                    "password": {
                        "type": "string",
                        "minLength": 8
                    },
                    "password_confirmation": {
                        "type": "string",
                        "minLength": 8
                    },
                    "role": {
                        "$ref": "#/components/schemas/UserRole"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "password",
                    "password_confirmation",
                    "role"
                ]
            },
            "UpdateUserRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 255
                    },
                    "password": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "minLength": 8
                    },
                    "password_confirmation": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "minLength": 8
                    },
                    "role": {
                        "$ref": "#/components/schemas/UserRole"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "role"
                ]
            },
            "PaginationLinks": {
                "type": "object",
                "properties": {
                    "first": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "last": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "prev": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "next": {
                        "type": [
                            "string",
                            "null"
                        ]
                    }
                }
            },
            "PaginationMeta": {
                "type": "object",
                "properties": {
                    "current_page": {
                        "type": "integer"
                    },
                    "from": {
                        "type": [
                            "integer",
                            "null"
                        ]
                    },
                    "last_page": {
                        "type": "integer"
                    },
                    "links": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "url": {
                                    "type": [
                                        "string",
                                        "null"
                                    ]
                                },
                                "label": {
                                    "type": "string"
                                },
                                "active": {
                                    "type": "boolean"
                                }
                            }
                        }
                    },
                    "path": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "per_page": {
                        "type": "integer"
                    },
                    "to": {
                        "type": [
                            "integer",
                            "null"
                        ]
                    },
                    "total": {
                        "type": "integer"
                    }
                }
            },
            "PaginatedProjectResponse": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ProjectResource"
                        }
                    },
                    "links": {
                        "$ref": "#/components/schemas/PaginationLinks"
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PaginationMeta"
                    }
                }
            },
            "PaginatedTaskResponse": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/TaskResource"
                        }
                    },
                    "links": {
                        "$ref": "#/components/schemas/PaginationLinks"
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PaginationMeta"
                    }
                }
            },
            "PaginatedUserResponse": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/UserResource"
                        }
                    },
                    "links": {
                        "$ref": "#/components/schemas/PaginationLinks"
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PaginationMeta"
                    }
                }
            },
            "PaginatedCommentResponse": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/CommentResource"
                        }
                    },
                    "links": {
                        "$ref": "#/components/schemas/PaginationLinks"
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PaginationMeta"
                    }
                }
            }
        },
        "responses": {
            "ValidationException": {
                "description": "Validation error (422)",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "The given data was invalid."
                                },
                                "errors": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "example": {
                                        "email": [
                                            "The email field is required."
                                        ]
                                    }
                                }
                            },
                            "required": [
                                "message",
                                "errors"
                            ]
                        }
                    }
                }
            },
            "AuthenticationException": {
                "description": "Unauthenticated (401)",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Unauthenticated."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            },
            "AuthorizationException": {
                "description": "Forbidden (403) - User lacks required permissions",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "This action is unauthorized."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            },
            "ModelNotFoundException": {
                "description": "Resource not found (404)",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "No query results for model."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            },
            "TooManyRequestsException": {
                "description": "Too Many Requests (429) - Rate limit exceeded",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Too many login attempts. Please try again in 60 seconds."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            }
        }
    }
}